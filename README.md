# ViewStats

## 📚 Project Overview

**ViewStats** is an AI-powered semantic video classification and exploration platform. It processes a dataset of over **124,000 YouTube videos**, extracting **contextually-derived topics** and enabling users to perform **semantic search and taxonomy-based navigation** through a complete full-stack application.

### ✅ Highlights

- AI-generated **multi-label classification** for both **videos** and **channels**
- Derivation of a **custom hierarchical taxonomy** based on content
- Real-time **semantic search engine** using vector embeddings and Qdrant
- Full-stack solution including **FastAPI backend** and **Next.js frontend**
- Designed with **modularity**, **scalability**, and **transparency**

---

## 🔧 Technologies Used

- **Backend**: FastAPI (Python 3.11)
- **Frontend**: Next.js + TailwindCSS (React-based)
- **Embeddings**: `all-MiniLM-L6-v2` via `sentence-transformers`
- **Vector Store**: Qdrant
- **Topic Generation**: OpenAI GPT-4 (LLM) and optional BERTopic
- **Infrastructure**: Docker & Docker Compose

---

## 🧠 Core Features

### 🧩 Hierarchical Topic Derivation
- Topics and subtopics are generated by an **LLM (GPT-4)** analyzing the full textual content of each video
- No pre-defined category list; the **taxonomy is emergent**
- Stored as a dynamic, navigable **JSON tree**

### 📊 Semantic Indexing in Qdrant
- Embeddings are computed from a combination of title, description, and transcript
- Payloads include video/channel metadata, topic paths, tags, and other attributes
- Videos are indexed in Qdrant for **hybrid filtering and similarity search**

### 🔍 Semantic Search Engine
- Users can perform:
  - Free-text search (e.g., "Magnus Carlsen")
  - Filtered search by hierarchical topic
  - Combined vector + keyword search
- Results are ranked by **semantic similarity** and **contextual match**

### 🌳 Taxonomy Browser
- Full topic tree exposed as a JSON-based API
- Dynamically generated from the LLM-classified topic paths
- Enables hierarchical drill-down via frontend interface

### 📡 Modular API Design
- `/search`: vector-based semantic search
- `/taxonomy`: explore topic tree
- `/video/{id}` and `/channel/{id}`: retrieve metadata
- `/qdrant/insert`: add vectors and payloads into Qdrant
- `/upload-csv`: ingest dataset samples or video metadata

---

## 📁 Project Structure

```

viewstats/
├── backend/
│   ├── Dockerfile
│   ├── requirements.txt
│   └── app/
│       ├── main.py
│       ├── api/                # All FastAPI endpoints
│       ├── core/               # Configs, environment, logger
│       ├── services/           # Embedding, Qdrant, LLM, taxonomy
│       ├── models/             # Pydantic request/response schemas
│       ├── utils/              # Text cleaning, helpers
│       └── data/               # taxonomy.json, sample datasets
├── frontend/
│   ├── Dockerfile
│   ├── package.json
│   ├── pages/
│   └── components/
├── scripts/                    # One-off scripts
│   ├── process\_csv.py
│   ├── build\_taxonomy.py
│   └── index\_videos\_qdrant.py
├── docker-compose.yaml
├── .env
└── README.md

````

---

## 🚀 How to Run

### 1. Start the Full Stack (Backend + Qdrant + Frontend)
```bash
docker-compose up --build
````

### 2. Access the Services

* Backend API: [http://localhost:8000](http://localhost:8000)
* Qdrant UI/API: [http://localhost:6333](http://localhost:6333)
* Frontend UI: [http://localhost:3000](http://localhost:3000)

---

## 🧪 API Endpoints

| Endpoint         | Method | Description                             |
| ---------------- | ------ | --------------------------------------- |
| `/`              | GET    | Health check                            |
| `/upload-csv`    | POST   | Upload CSV file and get schema          |
| `/qdrant/insert` | POST   | Insert vector + metadata into Qdrant    |
| `/search`        | POST   | Semantic search with query and filters  |
| `/taxonomy`      | GET    | Returns the full topic hierarchy (JSON) |
| `/video/{id}`    | GET    | Retrieve video payload from Qdrant      |
| `/channel/{id}`  | GET    | Retrieve channel-level classification   |

---

## 🧪 LLM Prompt Strategy (for Topic Derivation)

Topics are derived by prompting the LLM with each video's text. Example prompt:

```
Given the following video metadata, return up to 3 hierarchical topic paths in the format:
"Topic > Subtopic > Subsubtopic"

Title: "How to Build a Chatbot with GPT-4"
Description: "A full walkthrough using OpenAI's GPT API"
Transcript excerpt: "...first, choose your system prompt..."
```

→ Output:

```json
["Technology > AI > Chatbots", "Software > Development > NLP"]
```

---

## 🎯 Evaluation Criteria (from the original challenge)

| Area                         | Weight |
| ---------------------------- | ------ |
| Classification Accuracy      | 30%    |
| Semantic Search Relevance    | 30%    |
| Backend/API Design           | 15%    |
| Frontend Functionality       | 10%    |
| Code Quality & Documentation | 10%    |

✅ Bonus points included for:

* Abbreviation handling (e.g., "NBA" = "National Basketball Association")
* Autocomplete suggestions
* Topic co-occurrence graphs
* Faceted filtering in the UI

---

## 📦 Dependencies

* Python 3.11
* FastAPI, Uvicorn, Pydantic
* `sentence-transformers` (`all-MiniLM-L6-v2`)
* `qdrant-client`
* OpenAI (optional, for GPT topic classification)
* Node.js 18+ (Dockerized)
* React, Next.js, TailwindCSS

---

## 🔐 Notes

* This project is covered by **NDA** and must not be shared publicly.
* Designed for completion in **24–48 hours** as a take-home challenge.
* Up to \$100 in API costs may be reimbursed if documented.

---

## 📝 Deliverables

* ✅ Source code (backend + optional frontend)
* ✅ This updated README with decisions and architecture
* ✅ Prompting strategy for topic generation
* ✅ API documentation
* ✅ (Optional) Loom walkthrough or screenshots
* ✅ (Optional) Deployed version (not required)

---

## 📈 Future Work

* Improve taxonomy tree with LLM + graph analytics
* Add topic co-occurrence visualizations (GraphRAG-style)
* Typeahead/autocomplete in search
* RAG-based hybrid search augmentation (LLM + embeddings)
* Video clustering and personalized recommendations

---

## 📬 Submission

Send your GitHub repo and documentation to:

* [nagesh@mrbeastyoutube.com](mailto:nagesh@mrbeastyoutube.com)
* [byronm@mrbeastyoutube.com](mailto:byronm@mrbeastyoutube.com)
* [nicolas@viewstats.com](mailto:nicolas@viewstats.com)

---

## © License

This project is provided solely for evaluation under NDA and is not to be shared or published publicly.